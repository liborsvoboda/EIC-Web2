"use strict";(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[3550,1356],{41356:(e,i,n)=>{n.r(i),n.d(i,{clearPlatformLanguageAssociations:()=>h,getLanguageIds:()=>d,registerPlatformLanguageAssociation:()=>c});var t=n(64759),a=n(9161),s=n(5007),r=n(91686),o=n(6227),g=n(17416),l=n(90638);let u=[],f=[],m=[];function c(e,i=!1){!function(e,i,n){const a=function(e,i){return{id:e.id,mime:e.mime,filename:e.filename,extension:e.extension,filepattern:e.filepattern,firstline:e.firstline,userConfigured:false,filenameLowercase:e.filename?e.filename.toLowerCase():void 0,extensionLowercase:e.extension?e.extension.toLowerCase():void 0,filepatternLowercase:e.filepattern?(0,t.Qc)(e.filepattern.toLowerCase()):void 0,filepatternOnPath:!!e.filepattern&&e.filepattern.indexOf(r.KR.sep)>=0}}(e);u.push(a),a.userConfigured?m.push(a):f.push(a),n&&!a.userConfigured&&u.forEach((e=>{e.mime===a.mime||e.userConfigured||(a.extension&&e.extension===a.extension&&console.warn(`Overwriting extension <<${a.extension}>> to now point to mime <<${a.mime}>>`),a.filename&&e.filename===a.filename&&console.warn(`Overwriting filename <<${a.filename}>> to now point to mime <<${a.mime}>>`),a.filepattern&&e.filepattern===a.filepattern&&console.warn(`Overwriting filepattern <<${a.filepattern}>> to now point to mime <<${a.mime}>>`),a.firstline&&e.firstline===a.firstline&&console.warn(`Overwriting firstline <<${a.firstline}>> to now point to mime <<${a.mime}>>`))}))}(e,0,i)}function h(){u=u.filter((e=>e.userConfigured)),f=[]}function d(e,i){return function(e,i){let n;if(e)switch(e.scheme){case s.lg.file:n=e.fsPath;break;case s.lg.data:n=o.Vb.parseMetaData(e).get(o.Vb.META_DATA_LABEL);break;case s.lg.vscodeNotebookCell:n=void 0;break;default:n=e.path}if(!n)return[{id:"unknown",mime:a.v.unknown}];n=n.toLowerCase();const t=(0,r.EZ)(n),c=p(n,t,m);if(c)return[c,{id:l.bd,mime:a.v.text}];const h=p(n,t,f);if(h)return[h,{id:l.bd,mime:a.v.text}];if(i){const e=function(e){if((0,g.uS)(e)&&(e=e.substr(1)),e.length>0)for(let i=u.length-1;i>=0;i--){const n=u[i];if(!n.firstline)continue;const t=e.match(n.firstline);if(t&&t.length>0)return n}}(i);if(e)return[e,{id:l.bd,mime:a.v.text}]}return[{id:"unknown",mime:a.v.unknown}]}(e,i).map((e=>e.id))}function p(e,i,n){let t,a,s;for(let r=n.length-1;r>=0;r--){const o=n[r];if(i===o.filenameLowercase){t=o;break}if(o.filepattern&&(!a||o.filepattern.length>a.filepattern.length)){const n=o.filepatternOnPath?e:i;o.filepatternLowercase?.(n)&&(a=o)}o.extension&&(!s||o.extension.length>s.extension.length)&&i.endsWith(o.extensionLowercase)&&(s=o)}return t||a||s||void 0}},33550:(e,i,n)=>{n.r(i),n.d(i,{LanguageIdCodec:()=>m,LanguagesRegistry:()=>c});var t=n(56709),a=n(38431),s=n(17416),r=n(41356),o=n(90638),g=n(12326),l=n(6325);const u=Object.prototype.hasOwnProperty,f="vs.editor.nullLanguage";class m{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(f,0),this._register(o.bd,1),this._nextLanguageId=2}_register(e,i){this._languageIdToLanguage[i]=e,this._languageToLanguageId.set(e,i)}register(e){if(this._languageToLanguageId.has(e))return;const i=this._nextLanguageId++;this._register(e,i)}encodeLanguageId(e){return this._languageToLanguageId.get(e)||0}decodeLanguageId(e){return this._languageIdToLanguage[e]||f}}class c extends a.JT{static{this.instanceCount=0}constructor(e=!0,i=!1){super(),this._onDidChange=this._register(new t.Q5),this.onDidChange=this._onDidChange.event,c.instanceCount++,this._warnOnOverwrite=i,this.languageIdCodec=new m,this._dynamicLanguages=[],this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},e&&(this._initializeFromRegistry(),this._register(o.dQ.onDidChangeLanguages((e=>{this._initializeFromRegistry()}))))}dispose(){c.instanceCount--,super.dispose()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},(0,r.clearPlatformLanguageAssociations)();const e=[].concat(o.dQ.getLanguages()).concat(this._dynamicLanguages);this._registerLanguages(e)}_registerLanguages(e){for(const i of e)this._registerLanguage(i);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach((e=>{const i=this._languages[e];i.name&&(this._nameMap[i.name]=i.identifier),i.aliases.forEach((e=>{this._lowercaseNameMap[e.toLowerCase()]=i.identifier})),i.mimetypes.forEach((e=>{this._mimeTypesMap[e]=i.identifier}))})),l.B.as(g.IP.Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds()),this._onDidChange.fire()}_registerLanguage(e){const i=e.id;let n;u.call(this._languages,i)?n=this._languages[i]:(this.languageIdCodec.register(i),n={identifier:i,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[],icons:[]},this._languages[i]=n),this._mergeLanguage(n,e)}_mergeLanguage(e,i){const n=i.id;let t=null;if(Array.isArray(i.mimetypes)&&i.mimetypes.length>0&&(e.mimetypes.push(...i.mimetypes),t=i.mimetypes[0]),t||(t=`text/x-${n}`,e.mimetypes.push(t)),Array.isArray(i.extensions)){i.configuration?e.extensions=i.extensions.concat(e.extensions):e.extensions=e.extensions.concat(i.extensions);for(const e of i.extensions)(0,r.registerPlatformLanguageAssociation)({id:n,mime:t,extension:e},this._warnOnOverwrite)}if(Array.isArray(i.filenames))for(const a of i.filenames)(0,r.registerPlatformLanguageAssociation)({id:n,mime:t,filename:a},this._warnOnOverwrite),e.filenames.push(a);if(Array.isArray(i.filenamePatterns))for(const e of i.filenamePatterns)(0,r.registerPlatformLanguageAssociation)({id:n,mime:t,filepattern:e},this._warnOnOverwrite);if("string"==typeof i.firstLine&&i.firstLine.length>0){let e=i.firstLine;"^"!==e.charAt(0)&&(e="^"+e);try{const i=new RegExp(e);(0,s.IO)(i)||(0,r.registerPlatformLanguageAssociation)({id:n,mime:t,firstline:i},this._warnOnOverwrite)}catch(n){console.warn(`[${i.id}]: Invalid regular expression \`${e}\`: `,n)}}e.aliases.push(n);let a=null;if(void 0!==i.aliases&&Array.isArray(i.aliases)&&(a=0===i.aliases.length?[null]:i.aliases),null!==a)for(const i of a)i&&0!==i.length&&e.aliases.push(i);const o=null!==a&&a.length>0;if(o&&null===a[0]);else{const i=(o?a[0]:null)||n;!o&&e.name||(e.name=i)}i.configuration&&e.configurationFiles.push(i.configuration),i.icon&&e.icons.push(i.icon)}isRegisteredLanguageId(e){return!!e&&u.call(this._languages,e)}getRegisteredLanguageIds(){return Object.keys(this._languages)}getLanguageIdByLanguageName(e){const i=e.toLowerCase();return u.call(this._lowercaseNameMap,i)?this._lowercaseNameMap[i]:null}getLanguageIdByMimeType(e){return e&&u.call(this._mimeTypesMap,e)?this._mimeTypesMap[e]:null}guessLanguageIdByFilepathOrFirstLine(e,i){return e||i?(0,r.getLanguageIds)(e,i):[]}}}}]);
//# sourceMappingURL=3550.js.map