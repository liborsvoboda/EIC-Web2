{"version":3,"file":"7697.js","mappings":"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","sources":["webpack://demo/../../node_modules/monaco-editor/esm/vs/base/common/collections.js","webpack://demo/../../node_modules/monaco-editor/esm/vs/base/common/numbers.js","webpack://demo/../../node_modules/monaco-editor/esm/vs/base/common/severity.js","webpack://demo/../../node_modules/monaco-editor/esm/vs/base/common/themables.js","webpack://demo/../../node_modules/monaco-editor/esm/vs/editor/common/languageSelector.js","webpack://demo/../../node_modules/monaco-editor/esm/vs/editor/common/services/editorWorker.js","webpack://demo/../../node_modules/monaco-editor/esm/vs/editor/common/services/getIconClasses.js","webpack://demo/../../node_modules/monaco-editor/esm/vs/editor/common/services/languageFeatureDebounce.js","webpack://demo/../../node_modules/monaco-editor/esm/vs/editor/common/services/languageFeatures.js","webpack://demo/../../node_modules/monaco-editor/esm/vs/editor/common/languageFeatureRegistry.js","webpack://demo/../../node_modules/monaco-editor/esm/vs/editor/common/services/languageFeaturesService.js","webpack://demo/../../node_modules/monaco-editor/esm/vs/editor/common/services/markerDecorations.js","webpack://demo/../../node_modules/monaco-editor/esm/vs/editor/common/services/markerDecorationsService.js","webpack://demo/../../node_modules/monaco-editor/esm/vs/editor/common/services/model.js","webpack://demo/../../node_modules/monaco-editor/esm/vs/editor/common/services/resolverService.js","webpack://demo/../../node_modules/monaco-editor/esm/vs/editor/common/services/semanticTokensDto.js","webpack://demo/../../node_modules/monaco-editor/esm/vs/editor/common/services/semanticTokensStyling.js","webpack://demo/../../node_modules/monaco-editor/esm/vs/editor/common/services/semanticTokensStylingService.js","webpack://demo/../../node_modules/monaco-editor/esm/vs/editor/common/services/treeViewsDnd.js","webpack://demo/../../node_modules/monaco-editor/esm/vs/editor/common/services/treeViewsDndService.js","webpack://demo/../../node_modules/monaco-editor/esm/vs/platform/environment/common/environment.js","webpack://demo/../../node_modules/monaco-editor/esm/vs/platform/files/common/files.js","webpack://demo/../../node_modules/monaco-editor/esm/vs/platform/markers/common/markers.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nexport function diffSets(before, after) {\n    const removed = [];\n    const added = [];\n    for (const element of before) {\n        if (!after.has(element)) {\n            removed.push(element);\n        }\n    }\n    for (const element of after) {\n        if (!before.has(element)) {\n            added.push(element);\n        }\n    }\n    return { removed, added };\n}\n/**\n * Computes the intersection of two sets.\n *\n * @param setA - The first set.\n * @param setB - The second iterable.\n * @returns A new set containing the elements that are in both `setA` and `setB`.\n */\nexport function intersection(setA, setB) {\n    const result = new Set();\n    for (const elem of setB) {\n        if (setA.has(elem)) {\n            result.add(elem);\n        }\n    }\n    return result;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nexport function clamp(value, min, max) {\n    return Math.min(Math.max(value, min), max);\n}\nexport class MovingAverage {\n    constructor() {\n        this._n = 1;\n        this._val = 0;\n    }\n    update(value) {\n        this._val = this._val + (value - this._val) / this._n;\n        this._n += 1;\n        return this._val;\n    }\n    get value() {\n        return this._val;\n    }\n}\nexport class SlidingWindowAverage {\n    constructor(size) {\n        this._n = 0;\n        this._val = 0;\n        this._values = [];\n        this._index = 0;\n        this._sum = 0;\n        this._values = new Array(size);\n        this._values.fill(0, 0, size);\n    }\n    update(value) {\n        const oldValue = this._values[this._index];\n        this._values[this._index] = value;\n        this._index = (this._index + 1) % this._values.length;\n        this._sum -= oldValue;\n        this._sum += value;\n        if (this._n < this._values.length) {\n            this._n += 1;\n        }\n        this._val = this._sum / this._n;\n        return this._val;\n    }\n    get value() {\n        return this._val;\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as strings from './strings.js';\nvar Severity;\n(function (Severity) {\n    Severity[Severity[\"Ignore\"] = 0] = \"Ignore\";\n    Severity[Severity[\"Info\"] = 1] = \"Info\";\n    Severity[Severity[\"Warning\"] = 2] = \"Warning\";\n    Severity[Severity[\"Error\"] = 3] = \"Error\";\n})(Severity || (Severity = {}));\n(function (Severity) {\n    const _error = 'error';\n    const _warning = 'warning';\n    const _warn = 'warn';\n    const _info = 'info';\n    const _ignore = 'ignore';\n    /**\n     * Parses 'error', 'warning', 'warn', 'info' in call casings\n     * and falls back to ignore.\n     */\n    function fromValue(value) {\n        if (!value) {\n            return Severity.Ignore;\n        }\n        if (strings.equalsIgnoreCase(_error, value)) {\n            return Severity.Error;\n        }\n        if (strings.equalsIgnoreCase(_warning, value) || strings.equalsIgnoreCase(_warn, value)) {\n            return Severity.Warning;\n        }\n        if (strings.equalsIgnoreCase(_info, value)) {\n            return Severity.Info;\n        }\n        return Severity.Ignore;\n    }\n    Severity.fromValue = fromValue;\n    function toString(severity) {\n        switch (severity) {\n            case Severity.Error: return _error;\n            case Severity.Warning: return _warning;\n            case Severity.Info: return _info;\n            default: return _ignore;\n        }\n    }\n    Severity.toString = toString;\n})(Severity || (Severity = {}));\nexport default Severity;\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Codicon } from './codicons.js';\nexport var ThemeColor;\n(function (ThemeColor) {\n    function isThemeColor(obj) {\n        return obj && typeof obj === 'object' && typeof obj.id === 'string';\n    }\n    ThemeColor.isThemeColor = isThemeColor;\n})(ThemeColor || (ThemeColor = {}));\nexport var ThemeIcon;\n(function (ThemeIcon) {\n    ThemeIcon.iconNameSegment = '[A-Za-z0-9]+';\n    ThemeIcon.iconNameExpression = '[A-Za-z0-9-]+';\n    ThemeIcon.iconModifierExpression = '~[A-Za-z]+';\n    ThemeIcon.iconNameCharacter = '[A-Za-z0-9~-]';\n    const ThemeIconIdRegex = new RegExp(`^(${ThemeIcon.iconNameExpression})(${ThemeIcon.iconModifierExpression})?$`);\n    function asClassNameArray(icon) {\n        const match = ThemeIconIdRegex.exec(icon.id);\n        if (!match) {\n            return asClassNameArray(Codicon.error);\n        }\n        const [, id, modifier] = match;\n        const classNames = ['codicon', 'codicon-' + id];\n        if (modifier) {\n            classNames.push('codicon-modifier-' + modifier.substring(1));\n        }\n        return classNames;\n    }\n    ThemeIcon.asClassNameArray = asClassNameArray;\n    function asClassName(icon) {\n        return asClassNameArray(icon).join(' ');\n    }\n    ThemeIcon.asClassName = asClassName;\n    function asCSSSelector(icon) {\n        return '.' + asClassNameArray(icon).join('.');\n    }\n    ThemeIcon.asCSSSelector = asCSSSelector;\n    function isThemeIcon(obj) {\n        return obj && typeof obj === 'object' && typeof obj.id === 'string' && (typeof obj.color === 'undefined' || ThemeColor.isThemeColor(obj.color));\n    }\n    ThemeIcon.isThemeIcon = isThemeIcon;\n    const _regexFromString = new RegExp(`^\\\\$\\\\((${ThemeIcon.iconNameExpression}(?:${ThemeIcon.iconModifierExpression})?)\\\\)$`);\n    function fromString(str) {\n        const match = _regexFromString.exec(str);\n        if (!match) {\n            return undefined;\n        }\n        const [, name] = match;\n        return { id: name };\n    }\n    ThemeIcon.fromString = fromString;\n    function fromId(id) {\n        return { id };\n    }\n    ThemeIcon.fromId = fromId;\n    function modify(icon, modifier) {\n        let id = icon.id;\n        const tildeIndex = id.lastIndexOf('~');\n        if (tildeIndex !== -1) {\n            id = id.substring(0, tildeIndex);\n        }\n        if (modifier) {\n            id = `${id}~${modifier}`;\n        }\n        return { id };\n    }\n    ThemeIcon.modify = modify;\n    function getModifier(icon) {\n        const tildeIndex = icon.id.lastIndexOf('~');\n        if (tildeIndex !== -1) {\n            return icon.id.substring(tildeIndex + 1);\n        }\n        return undefined;\n    }\n    ThemeIcon.getModifier = getModifier;\n    function isEqual(ti1, ti2) {\n        return ti1.id === ti2.id && ti1.color?.id === ti2.color?.id;\n    }\n    ThemeIcon.isEqual = isEqual;\n})(ThemeIcon || (ThemeIcon = {}));\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { match as matchGlobPattern } from '../../base/common/glob.js';\nimport { normalize } from '../../base/common/path.js';\nexport function score(selector, candidateUri, candidateLanguage, candidateIsSynchronized, candidateNotebookUri, candidateNotebookType) {\n    if (Array.isArray(selector)) {\n        // array -> take max individual value\n        let ret = 0;\n        for (const filter of selector) {\n            const value = score(filter, candidateUri, candidateLanguage, candidateIsSynchronized, candidateNotebookUri, candidateNotebookType);\n            if (value === 10) {\n                return value; // already at the highest\n            }\n            if (value > ret) {\n                ret = value;\n            }\n        }\n        return ret;\n    }\n    else if (typeof selector === 'string') {\n        if (!candidateIsSynchronized) {\n            return 0;\n        }\n        // short-hand notion, desugars to\n        // 'fooLang' -> { language: 'fooLang'}\n        // '*' -> { language: '*' }\n        if (selector === '*') {\n            return 5;\n        }\n        else if (selector === candidateLanguage) {\n            return 10;\n        }\n        else {\n            return 0;\n        }\n    }\n    else if (selector) {\n        // filter -> select accordingly, use defaults for scheme\n        const { language, pattern, scheme, hasAccessToAllModels, notebookType } = selector; // TODO: microsoft/TypeScript#42768\n        if (!candidateIsSynchronized && !hasAccessToAllModels) {\n            return 0;\n        }\n        // selector targets a notebook -> use the notebook uri instead\n        // of the \"normal\" document uri.\n        if (notebookType && candidateNotebookUri) {\n            candidateUri = candidateNotebookUri;\n        }\n        let ret = 0;\n        if (scheme) {\n            if (scheme === candidateUri.scheme) {\n                ret = 10;\n            }\n            else if (scheme === '*') {\n                ret = 5;\n            }\n            else {\n                return 0;\n            }\n        }\n        if (language) {\n            if (language === candidateLanguage) {\n                ret = 10;\n            }\n            else if (language === '*') {\n                ret = Math.max(ret, 5);\n            }\n            else {\n                return 0;\n            }\n        }\n        if (notebookType) {\n            if (notebookType === candidateNotebookType) {\n                ret = 10;\n            }\n            else if (notebookType === '*' && candidateNotebookType !== undefined) {\n                ret = Math.max(ret, 5);\n            }\n            else {\n                return 0;\n            }\n        }\n        if (pattern) {\n            let normalizedPattern;\n            if (typeof pattern === 'string') {\n                normalizedPattern = pattern;\n            }\n            else {\n                // Since this pattern has a `base` property, we need\n                // to normalize this path first before passing it on\n                // because we will compare it against `Uri.fsPath`\n                // which uses platform specific separators.\n                // Refs: https://github.com/microsoft/vscode/issues/99938\n                normalizedPattern = { ...pattern, base: normalize(pattern.base) };\n            }\n            if (normalizedPattern === candidateUri.fsPath || matchGlobPattern(normalizedPattern, candidateUri.fsPath)) {\n                ret = 10;\n            }\n            else {\n                return 0;\n            }\n        }\n        return ret;\n    }\n    else {\n        return 0;\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { createDecorator } from '../../../platform/instantiation/common/instantiation.js';\nexport const IEditorWorkerService = createDecorator('editorWorkerService');\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Schemas } from '../../../base/common/network.js';\nimport { DataUri } from '../../../base/common/resources.js';\nimport { URI } from '../../../base/common/uri.js';\nimport { PLAINTEXT_LANGUAGE_ID } from '../languages/modesRegistry.js';\nimport { FileKind } from '../../../platform/files/common/files.js';\nimport { ThemeIcon } from '../../../base/common/themables.js';\nconst fileIconDirectoryRegex = /(?:\\/|^)(?:([^\\/]+)\\/)?([^\\/]+)$/;\nexport function getIconClasses(modelService, languageService, resource, fileKind, icon) {\n    if (ThemeIcon.isThemeIcon(icon)) {\n        return [`codicon-${icon.id}`, 'predefined-file-icon'];\n    }\n    if (URI.isUri(icon)) {\n        return [];\n    }\n    // we always set these base classes even if we do not have a path\n    const classes = fileKind === FileKind.ROOT_FOLDER ? ['rootfolder-icon'] : fileKind === FileKind.FOLDER ? ['folder-icon'] : ['file-icon'];\n    if (resource) {\n        // Get the path and name of the resource. For data-URIs, we need to parse specially\n        let name;\n        if (resource.scheme === Schemas.data) {\n            const metadata = DataUri.parseMetaData(resource);\n            name = metadata.get(DataUri.META_DATA_LABEL);\n        }\n        else {\n            const match = resource.path.match(fileIconDirectoryRegex);\n            if (match) {\n                name = cssEscape(match[2].toLowerCase());\n                if (match[1]) {\n                    classes.push(`${cssEscape(match[1].toLowerCase())}-name-dir-icon`); // parent directory\n                }\n            }\n            else {\n                name = cssEscape(resource.authority.toLowerCase());\n            }\n        }\n        // Root Folders\n        if (fileKind === FileKind.ROOT_FOLDER) {\n            classes.push(`${name}-root-name-folder-icon`);\n        }\n        // Folders\n        else if (fileKind === FileKind.FOLDER) {\n            classes.push(`${name}-name-folder-icon`);\n        }\n        // Files\n        else {\n            // Name & Extension(s)\n            if (name) {\n                classes.push(`${name}-name-file-icon`);\n                classes.push(`name-file-icon`); // extra segment to increase file-name score\n                // Avoid doing an explosive combination of extensions for very long filenames\n                // (most file systems do not allow files > 255 length) with lots of `.` characters\n                // https://github.com/microsoft/vscode/issues/116199\n                if (name.length <= 255) {\n                    const dotSegments = name.split('.');\n                    for (let i = 1; i < dotSegments.length; i++) {\n                        classes.push(`${dotSegments.slice(i).join('.')}-ext-file-icon`); // add each combination of all found extensions if more than one\n                    }\n                }\n                classes.push(`ext-file-icon`); // extra segment to increase file-ext score\n            }\n            // Detected Mode\n            const detectedLanguageId = detectLanguageId(modelService, languageService, resource);\n            if (detectedLanguageId) {\n                classes.push(`${cssEscape(detectedLanguageId)}-lang-file-icon`);\n            }\n        }\n    }\n    return classes;\n}\nfunction detectLanguageId(modelService, languageService, resource) {\n    if (!resource) {\n        return null; // we need a resource at least\n    }\n    let languageId = null;\n    // Data URI: check for encoded metadata\n    if (resource.scheme === Schemas.data) {\n        const metadata = DataUri.parseMetaData(resource);\n        const mime = metadata.get(DataUri.META_DATA_MIME);\n        if (mime) {\n            languageId = languageService.getLanguageIdByMimeType(mime);\n        }\n    }\n    // Any other URI: check for model if existing\n    else {\n        const model = modelService.getModel(resource);\n        if (model) {\n            languageId = model.getLanguageId();\n        }\n    }\n    // only take if the language id is specific (aka no just plain text)\n    if (languageId && languageId !== PLAINTEXT_LANGUAGE_ID) {\n        return languageId;\n    }\n    // otherwise fallback to path based detection\n    return languageService.guessLanguageIdByFilepathOrFirstLine(resource);\n}\nfunction cssEscape(str) {\n    return str.replace(/[\\s]/g, '/'); // HTML class names can not contain certain whitespace characters (https://dom.spec.whatwg.org/#interface-domtokenlist), use / instead, which doesn't exist in file names.\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { doHash } from '../../../base/common/hash.js';\nimport { LRUCache } from '../../../base/common/map.js';\nimport { clamp, MovingAverage, SlidingWindowAverage } from '../../../base/common/numbers.js';\nimport { IEnvironmentService } from '../../../platform/environment/common/environment.js';\nimport { registerSingleton } from '../../../platform/instantiation/common/extensions.js';\nimport { createDecorator } from '../../../platform/instantiation/common/instantiation.js';\nimport { ILogService } from '../../../platform/log/common/log.js';\nimport { matchesScheme } from '../../../base/common/network.js';\nexport const ILanguageFeatureDebounceService = createDecorator('ILanguageFeatureDebounceService');\nvar IdentityHash;\n(function (IdentityHash) {\n    const _hashes = new WeakMap();\n    let pool = 0;\n    function of(obj) {\n        let value = _hashes.get(obj);\n        if (value === undefined) {\n            value = ++pool;\n            _hashes.set(obj, value);\n        }\n        return value;\n    }\n    IdentityHash.of = of;\n})(IdentityHash || (IdentityHash = {}));\nclass NullDebounceInformation {\n    constructor(_default) {\n        this._default = _default;\n    }\n    get(_model) {\n        return this._default;\n    }\n    update(_model, _value) {\n        return this._default;\n    }\n    default() {\n        return this._default;\n    }\n}\nclass FeatureDebounceInformation {\n    constructor(_logService, _name, _registry, _default, _min, _max) {\n        this._logService = _logService;\n        this._name = _name;\n        this._registry = _registry;\n        this._default = _default;\n        this._min = _min;\n        this._max = _max;\n        this._cache = new LRUCache(50, 0.7);\n    }\n    _key(model) {\n        return model.id + this._registry.all(model).reduce((hashVal, obj) => doHash(IdentityHash.of(obj), hashVal), 0);\n    }\n    get(model) {\n        const key = this._key(model);\n        const avg = this._cache.get(key);\n        return avg\n            ? clamp(avg.value, this._min, this._max)\n            : this.default();\n    }\n    update(model, value) {\n        const key = this._key(model);\n        let avg = this._cache.get(key);\n        if (!avg) {\n            avg = new SlidingWindowAverage(6);\n            this._cache.set(key, avg);\n        }\n        const newValue = clamp(avg.update(value), this._min, this._max);\n        if (!matchesScheme(model.uri, 'output')) {\n            this._logService.trace(`[DEBOUNCE: ${this._name}] for ${model.uri.toString()} is ${newValue}ms`);\n        }\n        return newValue;\n    }\n    _overall() {\n        const result = new MovingAverage();\n        for (const [, avg] of this._cache) {\n            result.update(avg.value);\n        }\n        return result.value;\n    }\n    default() {\n        const value = (this._overall() | 0) || this._default;\n        return clamp(value, this._min, this._max);\n    }\n}\nlet LanguageFeatureDebounceService = class LanguageFeatureDebounceService {\n    constructor(_logService, envService) {\n        this._logService = _logService;\n        this._data = new Map();\n        this._isDev = envService.isExtensionDevelopment || !envService.isBuilt;\n    }\n    for(feature, name, config) {\n        const min = config?.min ?? 50;\n        const max = config?.max ?? min ** 2;\n        const extra = config?.key ?? undefined;\n        const key = `${IdentityHash.of(feature)},${min}${extra ? ',' + extra : ''}`;\n        let info = this._data.get(key);\n        if (!info) {\n            if (this._isDev) {\n                this._logService.debug(`[DEBOUNCE: ${name}] is disabled in developed mode`);\n                info = new NullDebounceInformation(min * 1.5);\n            }\n            else {\n                info = new FeatureDebounceInformation(this._logService, name, feature, (this._overallAverage() | 0) || (min * 1.5), // default is overall default or derived from min-value\n                min, max);\n            }\n            this._data.set(key, info);\n        }\n        return info;\n    }\n    _overallAverage() {\n        // Average of all language features. Not a great value but an approximation\n        const result = new MovingAverage();\n        for (const info of this._data.values()) {\n            result.update(info.default());\n        }\n        return result.value;\n    }\n};\nLanguageFeatureDebounceService = __decorate([\n    __param(0, ILogService),\n    __param(1, IEnvironmentService)\n], LanguageFeatureDebounceService);\nexport { LanguageFeatureDebounceService };\nregisterSingleton(ILanguageFeatureDebounceService, LanguageFeatureDebounceService, 1 /* InstantiationType.Delayed */);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { createDecorator } from '../../../platform/instantiation/common/instantiation.js';\nexport const ILanguageFeaturesService = createDecorator('ILanguageFeaturesService');\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Emitter } from '../../base/common/event.js';\nimport { toDisposable } from '../../base/common/lifecycle.js';\nimport { shouldSynchronizeModel } from './model.js';\nimport { score } from './languageSelector.js';\nfunction isExclusive(selector) {\n    if (typeof selector === 'string') {\n        return false;\n    }\n    else if (Array.isArray(selector)) {\n        return selector.every(isExclusive);\n    }\n    else {\n        return !!selector.exclusive; // TODO: microsoft/TypeScript#42768\n    }\n}\nclass MatchCandidate {\n    constructor(uri, languageId, notebookUri, notebookType, recursive) {\n        this.uri = uri;\n        this.languageId = languageId;\n        this.notebookUri = notebookUri;\n        this.notebookType = notebookType;\n        this.recursive = recursive;\n    }\n    equals(other) {\n        return this.notebookType === other.notebookType\n            && this.languageId === other.languageId\n            && this.uri.toString() === other.uri.toString()\n            && this.notebookUri?.toString() === other.notebookUri?.toString()\n            && this.recursive === other.recursive;\n    }\n}\nexport class LanguageFeatureRegistry {\n    constructor(_notebookInfoResolver) {\n        this._notebookInfoResolver = _notebookInfoResolver;\n        this._clock = 0;\n        this._entries = [];\n        this._onDidChange = new Emitter();\n        this.onDidChange = this._onDidChange.event;\n    }\n    register(selector, provider) {\n        let entry = {\n            selector,\n            provider,\n            _score: -1,\n            _time: this._clock++\n        };\n        this._entries.push(entry);\n        this._lastCandidate = undefined;\n        this._onDidChange.fire(this._entries.length);\n        return toDisposable(() => {\n            if (entry) {\n                const idx = this._entries.indexOf(entry);\n                if (idx >= 0) {\n                    this._entries.splice(idx, 1);\n                    this._lastCandidate = undefined;\n                    this._onDidChange.fire(this._entries.length);\n                    entry = undefined;\n                }\n            }\n        });\n    }\n    has(model) {\n        return this.all(model).length > 0;\n    }\n    all(model) {\n        if (!model) {\n            return [];\n        }\n        this._updateScores(model, false);\n        const result = [];\n        // from registry\n        for (const entry of this._entries) {\n            if (entry._score > 0) {\n                result.push(entry.provider);\n            }\n        }\n        return result;\n    }\n    ordered(model, recursive = false) {\n        const result = [];\n        this._orderedForEach(model, recursive, entry => result.push(entry.provider));\n        return result;\n    }\n    orderedGroups(model) {\n        const result = [];\n        let lastBucket;\n        let lastBucketScore;\n        this._orderedForEach(model, false, entry => {\n            if (lastBucket && lastBucketScore === entry._score) {\n                lastBucket.push(entry.provider);\n            }\n            else {\n                lastBucketScore = entry._score;\n                lastBucket = [entry.provider];\n                result.push(lastBucket);\n            }\n        });\n        return result;\n    }\n    _orderedForEach(model, recursive, callback) {\n        this._updateScores(model, recursive);\n        for (const entry of this._entries) {\n            if (entry._score > 0) {\n                callback(entry);\n            }\n        }\n    }\n    _updateScores(model, recursive) {\n        const notebookInfo = this._notebookInfoResolver?.(model.uri);\n        // use the uri (scheme, pattern) of the notebook info iff we have one\n        // otherwise it's the model's/document's uri\n        const candidate = notebookInfo\n            ? new MatchCandidate(model.uri, model.getLanguageId(), notebookInfo.uri, notebookInfo.type, recursive)\n            : new MatchCandidate(model.uri, model.getLanguageId(), undefined, undefined, recursive);\n        if (this._lastCandidate?.equals(candidate)) {\n            // nothing has changed\n            return;\n        }\n        this._lastCandidate = candidate;\n        for (const entry of this._entries) {\n            entry._score = score(entry.selector, candidate.uri, candidate.languageId, shouldSynchronizeModel(model), candidate.notebookUri, candidate.notebookType);\n            if (isExclusive(entry.selector) && entry._score > 0) {\n                if (recursive) {\n                    entry._score = 0;\n                }\n                else {\n                    // support for one exclusive selector that overwrites\n                    // any other selector\n                    for (const entry of this._entries) {\n                        entry._score = 0;\n                    }\n                    entry._score = 1000;\n                    break;\n                }\n            }\n        }\n        // needs sorting\n        this._entries.sort(LanguageFeatureRegistry._compareByScoreAndTime);\n    }\n    static _compareByScoreAndTime(a, b) {\n        if (a._score < b._score) {\n            return 1;\n        }\n        else if (a._score > b._score) {\n            return -1;\n        }\n        // De-prioritize built-in providers\n        if (isBuiltinSelector(a.selector) && !isBuiltinSelector(b.selector)) {\n            return 1;\n        }\n        else if (!isBuiltinSelector(a.selector) && isBuiltinSelector(b.selector)) {\n            return -1;\n        }\n        if (a._time < b._time) {\n            return 1;\n        }\n        else if (a._time > b._time) {\n            return -1;\n        }\n        else {\n            return 0;\n        }\n    }\n}\nfunction isBuiltinSelector(selector) {\n    if (typeof selector === 'string') {\n        return false;\n    }\n    if (Array.isArray(selector)) {\n        return selector.some(isBuiltinSelector);\n    }\n    return Boolean(selector.isBuiltin);\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { LanguageFeatureRegistry } from '../languageFeatureRegistry.js';\nimport { ILanguageFeaturesService } from './languageFeatures.js';\nimport { registerSingleton } from '../../../platform/instantiation/common/extensions.js';\nexport class LanguageFeaturesService {\n    constructor() {\n        this.referenceProvider = new LanguageFeatureRegistry(this._score.bind(this));\n        this.renameProvider = new LanguageFeatureRegistry(this._score.bind(this));\n        this.newSymbolNamesProvider = new LanguageFeatureRegistry(this._score.bind(this));\n        this.codeActionProvider = new LanguageFeatureRegistry(this._score.bind(this));\n        this.definitionProvider = new LanguageFeatureRegistry(this._score.bind(this));\n        this.typeDefinitionProvider = new LanguageFeatureRegistry(this._score.bind(this));\n        this.declarationProvider = new LanguageFeatureRegistry(this._score.bind(this));\n        this.implementationProvider = new LanguageFeatureRegistry(this._score.bind(this));\n        this.documentSymbolProvider = new LanguageFeatureRegistry(this._score.bind(this));\n        this.inlayHintsProvider = new LanguageFeatureRegistry(this._score.bind(this));\n        this.colorProvider = new LanguageFeatureRegistry(this._score.bind(this));\n        this.codeLensProvider = new LanguageFeatureRegistry(this._score.bind(this));\n        this.documentFormattingEditProvider = new LanguageFeatureRegistry(this._score.bind(this));\n        this.documentRangeFormattingEditProvider = new LanguageFeatureRegistry(this._score.bind(this));\n        this.onTypeFormattingEditProvider = new LanguageFeatureRegistry(this._score.bind(this));\n        this.signatureHelpProvider = new LanguageFeatureRegistry(this._score.bind(this));\n        this.hoverProvider = new LanguageFeatureRegistry(this._score.bind(this));\n        this.documentHighlightProvider = new LanguageFeatureRegistry(this._score.bind(this));\n        this.multiDocumentHighlightProvider = new LanguageFeatureRegistry(this._score.bind(this));\n        this.selectionRangeProvider = new LanguageFeatureRegistry(this._score.bind(this));\n        this.foldingRangeProvider = new LanguageFeatureRegistry(this._score.bind(this));\n        this.linkProvider = new LanguageFeatureRegistry(this._score.bind(this));\n        this.inlineCompletionsProvider = new LanguageFeatureRegistry(this._score.bind(this));\n        this.inlineEditProvider = new LanguageFeatureRegistry(this._score.bind(this));\n        this.completionProvider = new LanguageFeatureRegistry(this._score.bind(this));\n        this.linkedEditingRangeProvider = new LanguageFeatureRegistry(this._score.bind(this));\n        this.documentRangeSemanticTokensProvider = new LanguageFeatureRegistry(this._score.bind(this));\n        this.documentSemanticTokensProvider = new LanguageFeatureRegistry(this._score.bind(this));\n        this.documentDropEditProvider = new LanguageFeatureRegistry(this._score.bind(this));\n        this.documentPasteEditProvider = new LanguageFeatureRegistry(this._score.bind(this));\n    }\n    _score(uri) {\n        return this._notebookTypeResolver?.(uri);\n    }\n}\nregisterSingleton(ILanguageFeaturesService, LanguageFeaturesService, 1 /* InstantiationType.Delayed */);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { createDecorator } from '../../../platform/instantiation/common/instantiation.js';\nexport const IMarkerDecorationsService = createDecorator('markerDecorationsService');\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { IMarkerService, MarkerSeverity } from '../../../platform/markers/common/markers.js';\nimport { Disposable, toDisposable } from '../../../base/common/lifecycle.js';\nimport { OverviewRulerLane } from '../model.js';\nimport { themeColorFromId } from '../../../platform/theme/common/themeService.js';\nimport { overviewRulerWarning, overviewRulerInfo, overviewRulerError } from '../core/editorColorRegistry.js';\nimport { IModelService } from './model.js';\nimport { Range } from '../core/range.js';\nimport { Schemas } from '../../../base/common/network.js';\nimport { Emitter } from '../../../base/common/event.js';\nimport { minimapInfo, minimapWarning, minimapError } from '../../../platform/theme/common/colorRegistry.js';\nimport { BidirectionalMap, ResourceMap } from '../../../base/common/map.js';\nimport { diffSets } from '../../../base/common/collections.js';\nlet MarkerDecorationsService = class MarkerDecorationsService extends Disposable {\n    constructor(modelService, _markerService) {\n        super();\n        this._markerService = _markerService;\n        this._onDidChangeMarker = this._register(new Emitter());\n        this._markerDecorations = new ResourceMap();\n        modelService.getModels().forEach(model => this._onModelAdded(model));\n        this._register(modelService.onModelAdded(this._onModelAdded, this));\n        this._register(modelService.onModelRemoved(this._onModelRemoved, this));\n        this._register(this._markerService.onMarkerChanged(this._handleMarkerChange, this));\n    }\n    dispose() {\n        super.dispose();\n        this._markerDecorations.forEach(value => value.dispose());\n        this._markerDecorations.clear();\n    }\n    getMarker(uri, decoration) {\n        const markerDecorations = this._markerDecorations.get(uri);\n        return markerDecorations ? (markerDecorations.getMarker(decoration) || null) : null;\n    }\n    _handleMarkerChange(changedResources) {\n        changedResources.forEach((resource) => {\n            const markerDecorations = this._markerDecorations.get(resource);\n            if (markerDecorations) {\n                this._updateDecorations(markerDecorations);\n            }\n        });\n    }\n    _onModelAdded(model) {\n        const markerDecorations = new MarkerDecorations(model);\n        this._markerDecorations.set(model.uri, markerDecorations);\n        this._updateDecorations(markerDecorations);\n    }\n    _onModelRemoved(model) {\n        const markerDecorations = this._markerDecorations.get(model.uri);\n        if (markerDecorations) {\n            markerDecorations.dispose();\n            this._markerDecorations.delete(model.uri);\n        }\n        // clean up markers for internal, transient models\n        if (model.uri.scheme === Schemas.inMemory\n            || model.uri.scheme === Schemas.internal\n            || model.uri.scheme === Schemas.vscode) {\n            this._markerService?.read({ resource: model.uri }).map(marker => marker.owner).forEach(owner => this._markerService.remove(owner, [model.uri]));\n        }\n    }\n    _updateDecorations(markerDecorations) {\n        // Limit to the first 500 errors/warnings\n        const markers = this._markerService.read({ resource: markerDecorations.model.uri, take: 500 });\n        if (markerDecorations.update(markers)) {\n            this._onDidChangeMarker.fire(markerDecorations.model);\n        }\n    }\n};\nMarkerDecorationsService = __decorate([\n    __param(0, IModelService),\n    __param(1, IMarkerService)\n], MarkerDecorationsService);\nexport { MarkerDecorationsService };\nclass MarkerDecorations extends Disposable {\n    constructor(model) {\n        super();\n        this.model = model;\n        this._map = new BidirectionalMap();\n        this._register(toDisposable(() => {\n            this.model.deltaDecorations([...this._map.values()], []);\n            this._map.clear();\n        }));\n    }\n    update(markers) {\n        // We use the fact that marker instances are not recreated when different owners\n        // update. So we can compare references to find out what changed since the last update.\n        const { added, removed } = diffSets(new Set(this._map.keys()), new Set(markers));\n        if (added.length === 0 && removed.length === 0) {\n            return false;\n        }\n        const oldIds = removed.map(marker => this._map.get(marker));\n        const newDecorations = added.map(marker => {\n            return {\n                range: this._createDecorationRange(this.model, marker),\n                options: this._createDecorationOption(marker)\n            };\n        });\n        const ids = this.model.deltaDecorations(oldIds, newDecorations);\n        for (const removedMarker of removed) {\n            this._map.delete(removedMarker);\n        }\n        for (let index = 0; index < ids.length; index++) {\n            this._map.set(added[index], ids[index]);\n        }\n        return true;\n    }\n    getMarker(decoration) {\n        return this._map.getKey(decoration.id);\n    }\n    _createDecorationRange(model, rawMarker) {\n        let ret = Range.lift(rawMarker);\n        if (rawMarker.severity === MarkerSeverity.Hint && !this._hasMarkerTag(rawMarker, 1 /* MarkerTag.Unnecessary */) && !this._hasMarkerTag(rawMarker, 2 /* MarkerTag.Deprecated */)) {\n            // * never render hints on multiple lines\n            // * make enough space for three dots\n            ret = ret.setEndPosition(ret.startLineNumber, ret.startColumn + 2);\n        }\n        ret = model.validateRange(ret);\n        if (ret.isEmpty()) {\n            const maxColumn = model.getLineLastNonWhitespaceColumn(ret.startLineNumber) ||\n                model.getLineMaxColumn(ret.startLineNumber);\n            if (maxColumn === 1 || ret.endColumn >= maxColumn) {\n                // empty line or behind eol\n                // keep the range as is, it will be rendered 1ch wide\n                return ret;\n            }\n            const word = model.getWordAtPosition(ret.getStartPosition());\n            if (word) {\n                ret = new Range(ret.startLineNumber, word.startColumn, ret.endLineNumber, word.endColumn);\n            }\n        }\n        else if (rawMarker.endColumn === Number.MAX_VALUE && rawMarker.startColumn === 1 && ret.startLineNumber === ret.endLineNumber) {\n            const minColumn = model.getLineFirstNonWhitespaceColumn(rawMarker.startLineNumber);\n            if (minColumn < ret.endColumn) {\n                ret = new Range(ret.startLineNumber, minColumn, ret.endLineNumber, ret.endColumn);\n                rawMarker.startColumn = minColumn;\n            }\n        }\n        return ret;\n    }\n    _createDecorationOption(marker) {\n        let className;\n        let color = undefined;\n        let zIndex;\n        let inlineClassName = undefined;\n        let minimap;\n        switch (marker.severity) {\n            case MarkerSeverity.Hint:\n                if (this._hasMarkerTag(marker, 2 /* MarkerTag.Deprecated */)) {\n                    className = undefined;\n                }\n                else if (this._hasMarkerTag(marker, 1 /* MarkerTag.Unnecessary */)) {\n                    className = \"squiggly-unnecessary\" /* ClassName.EditorUnnecessaryDecoration */;\n                }\n                else {\n                    className = \"squiggly-hint\" /* ClassName.EditorHintDecoration */;\n                }\n                zIndex = 0;\n                break;\n            case MarkerSeverity.Info:\n                className = \"squiggly-info\" /* ClassName.EditorInfoDecoration */;\n                color = themeColorFromId(overviewRulerInfo);\n                zIndex = 10;\n                minimap = {\n                    color: themeColorFromId(minimapInfo),\n                    position: 1 /* MinimapPosition.Inline */\n                };\n                break;\n            case MarkerSeverity.Warning:\n                className = \"squiggly-warning\" /* ClassName.EditorWarningDecoration */;\n                color = themeColorFromId(overviewRulerWarning);\n                zIndex = 20;\n                minimap = {\n                    color: themeColorFromId(minimapWarning),\n                    position: 1 /* MinimapPosition.Inline */\n                };\n                break;\n            case MarkerSeverity.Error:\n            default:\n                className = \"squiggly-error\" /* ClassName.EditorErrorDecoration */;\n                color = themeColorFromId(overviewRulerError);\n                zIndex = 30;\n                minimap = {\n                    color: themeColorFromId(minimapError),\n                    position: 1 /* MinimapPosition.Inline */\n                };\n                break;\n        }\n        if (marker.tags) {\n            if (marker.tags.indexOf(1 /* MarkerTag.Unnecessary */) !== -1) {\n                inlineClassName = \"squiggly-inline-unnecessary\" /* ClassName.EditorUnnecessaryInlineDecoration */;\n            }\n            if (marker.tags.indexOf(2 /* MarkerTag.Deprecated */) !== -1) {\n                inlineClassName = \"squiggly-inline-deprecated\" /* ClassName.EditorDeprecatedInlineDecoration */;\n            }\n        }\n        return {\n            description: 'marker-decoration',\n            stickiness: 1 /* TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges */,\n            className,\n            showIfCollapsed: true,\n            overviewRuler: {\n                color,\n                position: OverviewRulerLane.Right\n            },\n            minimap,\n            zIndex,\n            inlineClassName,\n        };\n    }\n    _hasMarkerTag(marker, tag) {\n        if (marker.tags) {\n            return marker.tags.indexOf(tag) >= 0;\n        }\n        return false;\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { createDecorator } from '../../../platform/instantiation/common/instantiation.js';\nexport const IModelService = createDecorator('modelService');\n","import { createDecorator } from '../../../platform/instantiation/common/instantiation.js';\nexport const ITextModelService = createDecorator('textModelService');\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { VSBuffer } from '../../../base/common/buffer.js';\nimport * as platform from '../../../base/common/platform.js';\nfunction reverseEndianness(arr) {\n    for (let i = 0, len = arr.length; i < len; i += 4) {\n        // flip bytes 0<->3 and 1<->2\n        const b0 = arr[i + 0];\n        const b1 = arr[i + 1];\n        const b2 = arr[i + 2];\n        const b3 = arr[i + 3];\n        arr[i + 0] = b3;\n        arr[i + 1] = b2;\n        arr[i + 2] = b1;\n        arr[i + 3] = b0;\n    }\n}\nfunction toLittleEndianBuffer(arr) {\n    const uint8Arr = new Uint8Array(arr.buffer, arr.byteOffset, arr.length * 4);\n    if (!platform.isLittleEndian()) {\n        // the byte order must be changed\n        reverseEndianness(uint8Arr);\n    }\n    return VSBuffer.wrap(uint8Arr);\n}\nexport function encodeSemanticTokensDto(semanticTokens) {\n    const dest = new Uint32Array(encodeSemanticTokensDtoSize(semanticTokens));\n    let offset = 0;\n    dest[offset++] = semanticTokens.id;\n    if (semanticTokens.type === 'full') {\n        dest[offset++] = 1 /* EncodedSemanticTokensType.Full */;\n        dest[offset++] = semanticTokens.data.length;\n        dest.set(semanticTokens.data, offset);\n        offset += semanticTokens.data.length;\n    }\n    else {\n        dest[offset++] = 2 /* EncodedSemanticTokensType.Delta */;\n        dest[offset++] = semanticTokens.deltas.length;\n        for (const delta of semanticTokens.deltas) {\n            dest[offset++] = delta.start;\n            dest[offset++] = delta.deleteCount;\n            if (delta.data) {\n                dest[offset++] = delta.data.length;\n                dest.set(delta.data, offset);\n                offset += delta.data.length;\n            }\n            else {\n                dest[offset++] = 0;\n            }\n        }\n    }\n    return toLittleEndianBuffer(dest);\n}\nfunction encodeSemanticTokensDtoSize(semanticTokens) {\n    let result = 0;\n    result += (+1 // id\n        + 1 // type\n    );\n    if (semanticTokens.type === 'full') {\n        result += (+1 // data length\n            + semanticTokens.data.length);\n    }\n    else {\n        result += (+1 // delta count\n        );\n        result += (+1 // start\n            + 1 // deleteCount\n            + 1 // data length\n        ) * semanticTokens.deltas.length;\n        for (const delta of semanticTokens.deltas) {\n            if (delta.data) {\n                result += delta.data.length;\n            }\n        }\n    }\n    return result;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { createDecorator } from '../../../platform/instantiation/common/instantiation.js';\nexport const ISemanticTokensStylingService = createDecorator('semanticTokensStylingService');\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { Disposable } from '../../../base/common/lifecycle.js';\nimport { ILanguageService } from '../languages/language.js';\nimport { IThemeService } from '../../../platform/theme/common/themeService.js';\nimport { ILogService } from '../../../platform/log/common/log.js';\nimport { SemanticTokensProviderStyling } from './semanticTokensProviderStyling.js';\nimport { ISemanticTokensStylingService } from './semanticTokensStyling.js';\nimport { registerSingleton } from '../../../platform/instantiation/common/extensions.js';\nlet SemanticTokensStylingService = class SemanticTokensStylingService extends Disposable {\n    constructor(_themeService, _logService, _languageService) {\n        super();\n        this._themeService = _themeService;\n        this._logService = _logService;\n        this._languageService = _languageService;\n        this._caches = new WeakMap();\n        this._register(this._themeService.onDidColorThemeChange(() => {\n            this._caches = new WeakMap();\n        }));\n    }\n    getStyling(provider) {\n        if (!this._caches.has(provider)) {\n            this._caches.set(provider, new SemanticTokensProviderStyling(provider.getLegend(), this._themeService, this._languageService, this._logService));\n        }\n        return this._caches.get(provider);\n    }\n};\nSemanticTokensStylingService = __decorate([\n    __param(0, IThemeService),\n    __param(1, ILogService),\n    __param(2, ILanguageService)\n], SemanticTokensStylingService);\nexport { SemanticTokensStylingService };\nregisterSingleton(ISemanticTokensStylingService, SemanticTokensStylingService, 1 /* InstantiationType.Delayed */);\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nexport class TreeViewsDnDService {\n    constructor() {\n        this._dragOperations = new Map();\n    }\n    removeDragOperationTransfer(uuid) {\n        if ((uuid && this._dragOperations.has(uuid))) {\n            const operation = this._dragOperations.get(uuid);\n            this._dragOperations.delete(uuid);\n            return operation;\n        }\n        return undefined;\n    }\n}\nexport class DraggedTreeItemsIdentifier {\n    constructor(identifier) {\n        this.identifier = identifier;\n    }\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { registerSingleton } from '../../../platform/instantiation/common/extensions.js';\nimport { createDecorator } from '../../../platform/instantiation/common/instantiation.js';\nimport { TreeViewsDnDService } from './treeViewsDnd.js';\nexport const ITreeViewsDnDService = createDecorator('treeViewsDndService');\nregisterSingleton(ITreeViewsDnDService, TreeViewsDnDService, 1 /* InstantiationType.Delayed */);\n","import { createDecorator } from '../../instantiation/common/instantiation.js';\nexport const IEnvironmentService = createDecorator('environmentService');\n","//#endregion\n//#region Utilities\nexport var FileKind;\n(function (FileKind) {\n    FileKind[FileKind[\"FILE\"] = 0] = \"FILE\";\n    FileKind[FileKind[\"FOLDER\"] = 1] = \"FOLDER\";\n    FileKind[FileKind[\"ROOT_FOLDER\"] = 2] = \"ROOT_FOLDER\";\n})(FileKind || (FileKind = {}));\n//#endregion\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport Severity from '../../../base/common/severity.js';\nimport { localize } from '../../../nls.js';\nimport { createDecorator } from '../../instantiation/common/instantiation.js';\nexport var MarkerSeverity;\n(function (MarkerSeverity) {\n    MarkerSeverity[MarkerSeverity[\"Hint\"] = 1] = \"Hint\";\n    MarkerSeverity[MarkerSeverity[\"Info\"] = 2] = \"Info\";\n    MarkerSeverity[MarkerSeverity[\"Warning\"] = 4] = \"Warning\";\n    MarkerSeverity[MarkerSeverity[\"Error\"] = 8] = \"Error\";\n})(MarkerSeverity || (MarkerSeverity = {}));\n(function (MarkerSeverity) {\n    function compare(a, b) {\n        return b - a;\n    }\n    MarkerSeverity.compare = compare;\n    const _displayStrings = Object.create(null);\n    _displayStrings[MarkerSeverity.Error] = localize('sev.error', \"Error\");\n    _displayStrings[MarkerSeverity.Warning] = localize('sev.warning', \"Warning\");\n    _displayStrings[MarkerSeverity.Info] = localize('sev.info', \"Info\");\n    function toString(a) {\n        return _displayStrings[a] || '';\n    }\n    MarkerSeverity.toString = toString;\n    function fromSeverity(severity) {\n        switch (severity) {\n            case Severity.Error: return MarkerSeverity.Error;\n            case Severity.Warning: return MarkerSeverity.Warning;\n            case Severity.Info: return MarkerSeverity.Info;\n            case Severity.Ignore: return MarkerSeverity.Hint;\n        }\n    }\n    MarkerSeverity.fromSeverity = fromSeverity;\n    function toSeverity(severity) {\n        switch (severity) {\n            case MarkerSeverity.Error: return Severity.Error;\n            case MarkerSeverity.Warning: return Severity.Warning;\n            case MarkerSeverity.Info: return Severity.Info;\n            case MarkerSeverity.Hint: return Severity.Ignore;\n        }\n    }\n    MarkerSeverity.toSeverity = toSeverity;\n})(MarkerSeverity || (MarkerSeverity = {}));\nexport var IMarkerData;\n(function (IMarkerData) {\n    const emptyString = '';\n    function makeKey(markerData) {\n        return makeKeyOptionalMessage(markerData, true);\n    }\n    IMarkerData.makeKey = makeKey;\n    function makeKeyOptionalMessage(markerData, useMessage) {\n        const result = [emptyString];\n        if (markerData.source) {\n            result.push(markerData.source.replace('', '\\\\'));\n        }\n        else {\n            result.push(emptyString);\n        }\n        if (markerData.code) {\n            if (typeof markerData.code === 'string') {\n                result.push(markerData.code.replace('', '\\\\'));\n            }\n            else {\n                result.push(markerData.code.value.replace('', '\\\\'));\n            }\n        }\n        else {\n            result.push(emptyString);\n        }\n        if (markerData.severity !== undefined && markerData.severity !== null) {\n            result.push(MarkerSeverity.toString(markerData.severity));\n        }\n        else {\n            result.push(emptyString);\n        }\n        // Modifed to not include the message as part of the marker key to work around\n        // https://github.com/microsoft/vscode/issues/77475\n        if (markerData.message && useMessage) {\n            result.push(markerData.message.replace('', '\\\\'));\n        }\n        else {\n            result.push(emptyString);\n        }\n        if (markerData.startLineNumber !== undefined && markerData.startLineNumber !== null) {\n            result.push(markerData.startLineNumber.toString());\n        }\n        else {\n            result.push(emptyString);\n        }\n        if (markerData.startColumn !== undefined && markerData.startColumn !== null) {\n            result.push(markerData.startColumn.toString());\n        }\n        else {\n            result.push(emptyString);\n        }\n        if (markerData.endLineNumber !== undefined && markerData.endLineNumber !== null) {\n            result.push(markerData.endLineNumber.toString());\n        }\n        else {\n            result.push(emptyString);\n        }\n        if (markerData.endColumn !== undefined && markerData.endColumn !== null) {\n            result.push(markerData.endColumn.toString());\n        }\n        else {\n            result.push(emptyString);\n        }\n        result.push(emptyString);\n        return result.join('');\n    }\n    IMarkerData.makeKeyOptionalMessage = makeKeyOptionalMessage;\n})(IMarkerData || (IMarkerData = {}));\nexport const IMarkerService = createDecorator('markerService');\n"],"names":["diffSets","before","after","removed","added","element","has","push","intersection","setA","setB","result","Set","elem","add","clamp","value","min","max","Math","MovingAverage","constructor","this","_n","_val","update","SlidingWindowAverage","size","_values","_index","_sum","Array","fill","oldValue","length","Severity","_error","_warning","_info","fromValue","Error","Warning","Info","Ignore","toString","severity","ThemeColor","ThemeIcon","isThemeColor","obj","id","iconNameSegment","iconNameExpression","iconModifierExpression","iconNameCharacter","ThemeIconIdRegex","RegExp","asClassNameArray","icon","match","exec","error","modifier","classNames","substring","asClassName","join","asCSSSelector","isThemeIcon","color","_regexFromString","fromString","str","name","fromId","modify","tildeIndex","lastIndexOf","getModifier","isEqual","ti1","ti2","score","selector","candidateUri","candidateLanguage","candidateIsSynchronized","candidateNotebookUri","candidateNotebookType","isArray","ret","filter","language","pattern","scheme","hasAccessToAllModels","notebookType","undefined","normalizedPattern","base","fsPath","IEditorWorkerService","fileIconDirectoryRegex","getIconClasses","modelService","languageService","resource","fileKind","isUri","classes","ROOT_FOLDER","FOLDER","data","parseMetaData","get","META_DATA_LABEL","path","cssEscape","toLowerCase","authority","dotSegments","split","i","slice","detectedLanguageId","languageId","mime","META_DATA_MIME","getLanguageIdByMimeType","model","getModel","getLanguageId","guessLanguageIdByFilepathOrFirstLine","detectLanguageId","replace","__param","paramIndex","decorator","target","key","ILanguageFeatureDebounceService","IdentityHash","_hashes","WeakMap","pool","of","set","NullDebounceInformation","_default","_model","_value","FeatureDebounceInformation","_logService","_name","_registry","_min","_max","_cache","_key","all","reduce","hashVal","avg","default","newValue","uri","trace","_overall","LanguageFeatureDebounceService","envService","_data","Map","_isDev","isExtensionDevelopment","isBuilt","feature","config","extra","info","debug","_overallAverage","values","decorators","desc","d","c","arguments","r","Object","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","__decorate","ILanguageFeaturesService","isExclusive","every","exclusive","MatchCandidate","notebookUri","recursive","equals","other","LanguageFeatureRegistry","_notebookInfoResolver","_clock","_entries","_onDidChange","onDidChange","event","register","provider","entry","_score","_time","_lastCandidate","fire","idx","indexOf","splice","_updateScores","ordered","_orderedForEach","orderedGroups","lastBucket","lastBucketScore","callback","notebookInfo","candidate","type","sort","_compareByScoreAndTime","a","b","isBuiltinSelector","some","Boolean","isBuiltin","LanguageFeaturesService","referenceProvider","bind","renameProvider","newSymbolNamesProvider","codeActionProvider","definitionProvider","typeDefinitionProvider","declarationProvider","implementationProvider","documentSymbolProvider","inlayHintsProvider","colorProvider","codeLensProvider","documentFormattingEditProvider","documentRangeFormattingEditProvider","onTypeFormattingEditProvider","signatureHelpProvider","hoverProvider","documentHighlightProvider","multiDocumentHighlightProvider","selectionRangeProvider","foldingRangeProvider","linkProvider","inlineCompletionsProvider","inlineEditProvider","completionProvider","linkedEditingRangeProvider","documentRangeSemanticTokensProvider","documentSemanticTokensProvider","documentDropEditProvider","documentPasteEditProvider","_notebookTypeResolver","IMarkerDecorationsService","MarkerDecorationsService","_markerService","super","_onDidChangeMarker","_register","_markerDecorations","getModels","forEach","_onModelAdded","onModelAdded","onModelRemoved","_onModelRemoved","onMarkerChanged","_handleMarkerChange","dispose","clear","getMarker","decoration","markerDecorations","changedResources","_updateDecorations","MarkerDecorations","delete","inMemory","internal","vscode","read","map","marker","owner","remove","markers","take","IModelService","_map","deltaDecorations","keys","oldIds","newDecorations","range","_createDecorationRange","options","_createDecorationOption","ids","removedMarker","index","getKey","rawMarker","lift","Hint","_hasMarkerTag","setEndPosition","startLineNumber","startColumn","validateRange","isEmpty","maxColumn","getLineLastNonWhitespaceColumn","getLineMaxColumn","endColumn","word","getWordAtPosition","getStartPosition","endLineNumber","Number","MAX_VALUE","minColumn","getLineFirstNonWhitespaceColumn","className","zIndex","inlineClassName","minimap","position","tags","description","stickiness","showIfCollapsed","overviewRuler","Right","tag","ITextModelService","encodeSemanticTokensDto","semanticTokens","dest","Uint32Array","deltas","delta","encodeSemanticTokensDtoSize","offset","start","deleteCount","arr","uint8Arr","Uint8Array","buffer","byteOffset","len","b0","b1","b2","b3","reverseEndianness","wrap","toLittleEndianBuffer","ISemanticTokensStylingService","SemanticTokensStylingService","_themeService","_languageService","_caches","onDidColorThemeChange","getStyling","SemanticTokensProviderStyling","getLegend","TreeViewsDnDService","_dragOperations","removeDragOperationTransfer","uuid","operation","DraggedTreeItemsIdentifier","identifier","ITreeViewsDnDService","IEnvironmentService","FileKind","MarkerSeverity","IMarkerData","compare","_displayStrings","create","fromSeverity","toSeverity","emptyString","makeKeyOptionalMessage","markerData","useMessage","source","code","message","makeKey","IMarkerService"],"sourceRoot":""}